DataONE_Operations
==================

Utilities for administrative operations in DataONE.

Many of these utilities require administrative access to DataONE servers, and so
are not appropriate for general end-user use.


Documentation
-------------

* The `Wiki`_ at https://github.com/DataONEorg/DataONE_Operations/wiki

See also the operations docs in subversion:

* https://purl.dataone.org/operations/index.html


Installation
------------

Installs a locally editable version of the tools:

1. Checkout this project from GitHub

2. ``cd`` to the project

3. ``pip install -U --user -e .``

This assumes that you have the DataONE python common and libclient libraries installed. If
not then install from PyPi or for a locally editable install:

1. Checkout d1_python

2. ``pip install -U --user -e d1_python/d1_common_python/src``

3. ``pip install -U --user -e d1_python/d1_libclient_python/src``


Initialization
--------------

The scripts rely on configuration information that by default is located in::

  ${HOME}/.dataone/d1_config.json

A default config can be generated by running::

  python d1_admin_tools/d1_config.py -i

This should only need to be done once.


The Scripts
-----------

All scripts are meant to be run from a BASH command line (untested on windows), send output to stdout.
Output in text, json, xml is generally supported.

* ``d1hosts`` List DataONE CNs in an environment.
* ``d1resolve`` Resolve an identifier.
* ``d1sysmeta`` Retrieve system metadata given an identifier.
* ``d1nodes`` Show the list of nodes in an environment.
* ``d1fields`` Retrieves a list of fields from the specified solr core.
* ``d1facets`` Retrieves values for a solr field in the specified solr core.
* ``d1getpids`` Retrieves identifiers from metacat postgres and checks file system consistency.
* ``d1listobjects`` Run listObjects against a node
* ``urlx`` URL encode / decode stdin or string parameter



.. _Wiki: https://github.com/DataONEorg/DataONE_Operations/wiki